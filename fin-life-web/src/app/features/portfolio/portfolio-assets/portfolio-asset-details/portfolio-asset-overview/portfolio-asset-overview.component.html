@for (portfolioAssetInfoRow of portfolioAssetInfoRows(); track $index) {
  <div class="portfolio-asset-info-row">
    @for (portfolioAssetInfoColumn of portfolioAssetInfoRow; track $index) {
      <div class="portfolio-asset-info-column">
        <span class="portfolio-asset-info-label">
          {{ portfolioAssetInfoColumn.label }}
        </span>

        <div class="portfolio-asset-info-value-container">
          @if (
            portfolioAssetInfoColumn.clickableContent &&
            displayPortfolioAssetForm
          ) {
            <form class="portfolio-asset-form" [formGroup]="portfolioAssetForm">
              <div class="portfolio-asset-form-inputs-container">
                <mat-form-field appearance="outline">
                  <mat-label>Min</mat-label>
                  <input
                    matInput
                    type="number"
                    formControlName="minPercentage"
                    min="0"
                    max="100"
                  />
                </mat-form-field>
                <span>-</span>
                <mat-form-field appearance="outline">
                  <mat-label>Max</mat-label>
                  <input
                    matInput
                    type="number"
                    formControlName="maxPercentage"
                    min="0"
                    max="100"
                  />
                </mat-form-field>
                <mat-icon
                  [class]="{
                    primary: true,
                    'edit-icon': true,
                    'disabled-edit-icon': isFormInvalid,
                  }"
                  (click)="!isFormInvalid && handleSaveButtonClick()"
                >
                  check
                </mat-icon>
              </div>

              @if (isFormInvalid) {
                <div class="mat-mdc-form-field-subscript-wrapper">
                  <mat-error> Min + Max n√£o pode exceder 100% </mat-error>
                </div>
              }
            </form>
          } @else {
            <div
              aria-hidden="true"
              [class]="{
                'portfolio-asset-info-content': true,
                'clickable-content': portfolioAssetInfoColumn.clickableContent,
              }"
              (click)="handleInfoContentClick()"
            >
              <span
                [class]="
                  getPortfolioAssetInfoValueClasses(portfolioAssetInfoColumn)
                "
              >
                {{ portfolioAssetInfoColumn.valueToDisplay }}
              </span>

              @if (portfolioAssetInfoColumn.clickableContent) {
                <mat-icon class="primary edit-icon">edit</mat-icon>
              }
            </div>
          }
        </div>
      </div>
    }
  </div>
}
